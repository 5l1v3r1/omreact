{"version":3,"sources":["components/Messages.js","components/Chat.js","components/GenerateKeys.js","components/CreateMessage.js","components/CanvasBackground.js","App.js","index.js"],"names":["Messages","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getStyle","user","backgroundColor","overflowY","opacity","determineVisualContent","content","scroll","length","splitContent","split","react_default","a","createElement","ref","vidRef","onLoadedMetadata","scrollToBottomVideo","controls","autoplay","src","alt","hoverOn","chatRef","style","hoverOff","scrollToBottom","scrollIntoView","behavior","block","_this2","onMouseEnter","onMouseLeave","chatItems","message","Component","Chat","chatMessages","map","components_Messages","key","id","GenerateKeys","openpgp","path","localStorage","publicKey","privateKey","pass","cryptoArray","Uint32Array","window","crypto","getRandomValues","toString","options","userIds","name","email","numBits","passphrase","then","setItem","privateKeyArmored","publicKeyArmored","CreateMessage","state","onChange","e","setState","target","value","onSubmit","preventDefault","createMessage","position","bottom","width","type","flex","padding","placeholder","className","CanvasBackground","lineGradient","x","y","xEnd","yEnd","color1","color2","gradient","ctx","createLinearGradient","addColorStop","radialGradient","rad","radEnd","createRadialGradient","rand","start","end","Math","ceil","random","canvasSize","canvasRef","height","fill","col_hex","fillcolor","stroke","strokecolor","border","int_pix","strokesize","rect","sizeX","sizeY","fillStyle","strokeStyle","lineWidth","beginPath","closePath","circle","radius","arc","PI","point","strokeSize","canvasBackgroundFill","stars","min","i","sun","water","onResize","innerWidth","innerHeight","createCanvasBackground","getContext","addEventListener","App","submitButton","console","log","createPeer","initiator","stream","peer","Peer","trickle","forceUpdate","on","data","JSON","parse","newMessage","concat","toConsumableArray","peerStream","peerRef","srcObject","onloaddedmetadata","play","send","stringify","peerInfo","navigator","mediaDevices","getUserMedia","video","audio","clientRef","socketConnection","_this3","socket","socketIOClient","connect","emit","signal","initiaitorSocketId","socketid","_this4","muted","class","components_Chat","submit","components_CreateMessage","components_GenerateKeys","components_CanvasBackground","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a21333dd.chunk.js","sourcesContent":["//Test files\r\n//https://files.catbox.moe/v71b50.jpg\r\n//https://files.catbox.moe/d0sb20.mp4\r\n\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport $ from 'jquery';\r\n\r\nclass Messages extends Component {\r\n  \r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    getStyle = (user) => {\r\n        if( user === \"You\" ) {\r\n            return {backgroundColor : '#FFDAB9', overflowY: \"auto\", opacity: .75 }\r\n\r\n        } else {\r\n                return {backgroundColor : \"#FFD700\", overflowY: \"auto\", opacity: .75 }\r\n            }\r\n        }\r\n    \r\n    determineVisualContent = (content, scroll) => {\r\n        if(typeof content == 'undefined' || typeof content == null) {\r\n            return null;\r\n        } else if (content.length <= 0) {\r\n            return null;\r\n        }\r\n        var splitContent = content.split('/');\r\n        if(splitContent[2] === \"files.catbox.moe\" || splitContent[2] === \"i.imgur.com\") {\r\n            splitContent = splitContent[3].split(\".\");\r\n            if(splitContent[1] == \"mp4\" || splitContent[1] == \"webm\" || splitContent[1] == \"avi\" || splitContent[1] == \"ogg\" || splitContent[1] == \"mpeg\") { \r\n                //ref = {vidRef => {this.vidRef = vidRef }}\r\n                return (\r\n                <div ><br /><video ref = {vidRef => {this.vidRef = vidRef }} onLoadedMetadata = {this.scrollToBottomVideo} controls autoplay> <source src={content} ></source></video> </div>\r\n                )\r\n            } else if(splitContent[1] == \"jpg\" || splitContent[1] == \"jpeg\" || splitContent[1] == \"png\" || splitContent[1] == \"gif\")  {\r\n                return <div ><br /><img src = {content} alt=\"User Content\" /></div>\r\n            } else {\r\n                return null\r\n            }\r\n        } else if(splitContent[2]) {\r\n\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.scrollToBottom();\r\n        //this.scrollToBottomVideo();\r\n      }\r\n    \r\n    componentDidUpdate() {\r\n        this.scrollToBottom();\r\n        //this.scrollToBottomVideo();\r\n      }\r\n\r\n      hoverOn = () => {\r\n          //this.setState({opacity: 1});\r\n          this.chatRef.style.opacity = 1; // this.state.opacity;\r\n      }\r\n\r\n      hoverOff = () => {\r\n          //this.setState({opacity: .75});\r\n          this.chatRef.style.opacity = .75; // this.state.opacity;\r\n      }\r\n\r\n    scrollToBottom = () =>  \r\n        {  \r\n            this.chatRef.scrollIntoView({behavior: 'smooth', block: \"start\"}); \r\n        }\r\n    scrollToBottomVideo = () => \r\n    {\r\n        this.vidRef.scrollIntoView({behavior: 'smooth', block: \"start\"})\r\n    }\r\n\r\n  render() {    \r\n    return (\r\n        <div onMouseEnter = {this.hoverOn} onMouseLeave = {this.hoverOff} style = {this.getStyle(this.props.chatItems.user)} ref = {chatRef => {this.chatRef = chatRef }}> \r\n            {this.props.chatItems.user + \": \" + this.props.chatItems.message}\r\n            {this.determineVisualContent(this.props.chatItems.message)}\r\n        </div>\r\n        \r\n    )\r\n  };\r\n}\r\n\r\nMessages.propTypes = {\r\n    chatItems: PropTypes.object.isRequired,\r\n}\r\n\r\n\r\nexport default Messages;\r\n","import React, { Component } from 'react';\r\nimport Messages from './Messages';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Chat extends Component {\r\n\r\n\r\n  render() {    \r\n   // console.log(this.props.chatMessages);\r\n    return (\r\n       // <showButton />\r\n        this.props.chatMessages.map(chatItems => (\r\n            <Messages key = {chatItems.id} chatItems = {chatItems}/>\r\n        \r\n     ))\r\n     \r\n    );\r\n  }\r\n}\r\n\r\nChat.propTypes = {\r\n    chatMessages: PropTypes.array.isRequired\r\n}\r\n\r\nexport default Chat;\r\n\r\n/*\r\n\r\n        <video controls autoplay>\r\n          <source src=\"https://files.catbox.moe/d0sb20.mp4\" type=\"video/mp4\"></source>\r\n        </video>\r\n\r\n*/","import React, { Component } from 'react';\r\nimport * as openpgp from 'openpgp';\r\nclass GenerateKeys extends Component {\r\n  \r\n  render() {\r\n    openpgp.initWorker({path: './dist/openpgp.worker.min.js'}); \r\n\r\n    if(typeof localStorage.publicKey == 'undefined' || typeof localStorage.privateKey == 'undefined' || typeof localStorage.pass == 'undefined') {\r\n  \r\n    var cryptoArray = new Uint32Array(4);\r\n    window.crypto.getRandomValues(cryptoArray);\r\n    localStorage.pass = cryptoArray[2].toString()\r\n  var options = {\r\n      userIds: [{name: cryptoArray[3].toString(), email: cryptoArray[0] + '@' + cryptoArray[1] + '.com' }],\r\n      numBits: 2048,\r\n      passphrase: localStorage.pass\r\n  }\r\n\r\n    openpgp.generateKey(options).then(function(key) {\r\n    localStorage.setItem('privateKey', key.privateKeyArmored);\r\n    localStorage.setItem('publicKey', key.publicKeyArmored);\r\n  \r\n})\r\n\r\n//console.log(localStorage.publicKey);\r\n}\r\n  //console.log(localStorage.publicKey);\r\n    return (\r\n        null\r\n    )\r\n  };\r\n}\r\n\r\n\r\n\r\nexport default GenerateKeys;\r\n","import React, { Component } from 'react';\r\n\r\nclass CreateMessage extends Component {\r\n\r\n    state = {\r\n        content: ''\r\n    }\r\n\r\n    onChange = (e) => this.setState({content: e.target.value}); \r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.createMessage(\"You\", this.state.content);\r\n        this.setState({content: '', user: 'You' })\r\n    }\r\n  render() {    \r\n\r\n    return (\r\n            <form onSubmit = {this.onSubmit} style = {{position: 'fixed', bottom: '0', width: '100%' }}>\r\n                <input type=\"text\" name=\"title\" style={{flex: '10', padding: '5px'}} placeholder=\"Type Message Here...\" value={this.state.content} onChange={this.onChange}></input>\r\n                <input type=\"submit\" value=\"submit\" className = \"btn\" style={{flex: '1'}} />\r\n            </form>\r\n    )\r\n  };\r\n}\r\n\r\n\r\n\r\nexport default CreateMessage;\r\n","//https://codepen.io/Anomaly942/pen/pOqRrz?editors=0010\r\n//https://codepen.io/kevincardona1/pen/LWwZyx\r\n\r\nimport React, { Component } from 'react';\r\nimport { brotliDecompress } from 'zlib';\r\n\r\nclass CanvasBackground extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        \r\n        this.fillcolor = \"#000000\";\r\n        this.strokecolor = \"#000000\";\r\n        this.strokesize = \"#000000\";\r\n        \r\n        this.state = {width: window.innerWidth, height: window.innerHeight};      \r\n    }\r\n\r\n    componentWillMount() {\r\n      //this.onResize();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.ctx = this.canvasRef.getContext('2d');\r\n        this.setState({width: window.innerWidth, height: window.innerHeight});    \r\n        window.addEventListener('resize', this.onResize);\r\n        this.onResize();\r\n        this.createCanvasBackground();\r\n      }\r\n    \r\n      componentDidUpdate() {\r\n        this.createCanvasBackground();\r\n      }\r\n\r\n    lineGradient = (x, y, xEnd, yEnd, color1, color2) => {\r\n        let gradient = this.ctx.createLinearGradient(x, y, xEnd, yEnd);\r\n        gradient.addColorStop(0, color1);\r\n        gradient.addColorStop(1, color2);\r\n        return gradient;\r\n    }\r\n\r\n    radialGradient = (x, y, rad, xEnd, yEnd, radEnd, color1, color2) => {\r\n      let gradient = this.ctx.createRadialGradient(x, y, rad, xEnd, yEnd, radEnd, color1, color2);\r\n      gradient.addColorStop(0, color1);\r\n      gradient.addColorStop(1, color2);\r\n      return gradient;\r\n    }\r\n\r\n    rand = (start, end) => {\r\n      return Math.ceil(Math.random() * (end - start) + start);\r\n    }\r\n\r\n    canvasSize = () => {\r\n        this.canvasRef.width = this.state.width;\r\n        this.canvasRef.height = this.state.height;\r\n        //this.setState({canvasRef: this.canvasRef});\r\n    }\r\n\r\n    fill = (col_hex) => {\r\n        this.fillcolor = col_hex;\r\n    }\r\n\r\n    stroke = (col_hex) => {\r\n      this.strokecolor = col_hex;\r\n    }\r\n\r\n    border = (int_pix) => {\r\n      this.strokesize = int_pix;\r\n    }\r\n\r\n    rect = (x, y, sizeX, sizeY) => {\r\n        this.ctx.fillStyle = this.fillcolor;\r\n        this.ctx.strokeStyle = this.strokecolor;\r\n        this.ctx.lineWidth = this.strokesize;\r\n        this.ctx.beginPath();\r\n        this.ctx.rect(x, y, sizeX, sizeY);\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n\r\n        //this.setState({ctx: this.ctx}); \r\n    }\r\n\r\n    circle = (x, y, radius) => {\r\n      this.ctx.fillStyle = this.fillcolor;\r\n      this.ctx.strokeStyle = this.strokecolor;\r\n      this.ctx.lineWidth = this.strokesize;\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.arc(x, y, radius, 0, Math.PI*2, false);\r\n      this.ctx.fill();\r\n      this.ctx.stroke();\r\n      this.ctx.closePath();\r\n\r\n    }\r\n\r\n    point = (x, y) => {\r\n      this.ctx.fillStyle = this.fillcolor;\r\n      this.ctx.strokeStyle = this.strokecolor;\r\n      this.ctx.lineWidth = this.strokeSize;\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.rect(x, y, 1, 1);\r\n      this.ctx.fill();\r\n      this.ctx.stroke();\r\n      this.ctx.closePath();\r\n    }\r\n\r\n    \r\n    canvasBackgroundFill = () => {\r\n        this.fill(this.lineGradient(this.state.width/1, 0, this.state.width/2, this.state.height * 1.3, \"#200030\", '#9c046e'));\r\n        this.rect(0, 0, this.state.width, this.state.height);\r\n    }\r\n    \r\n    stars = () => {\r\n      this.stroke(\"#ffffff\");\r\n      this.border(Math.min((this.state.width / 1440), (this.state.height / 900)) * 1.5);\r\n      for(let i = 0; i < (this.state.width / 1.5); i++) {\r\n        this.point(this.rand(0, this.state.width), this.rand(0, this.state.width));\r\n      }\r\n      this.stroke(\"#ffffff00\");\r\n    }\r\n\r\n    sun = () => {\r\n      var radius = Math.min((this.state.width/1440), (this.state.height/900)) * 400;\r\n      this.fill(this.lineGradient(this.state.width/2,0,this.state.width/2,this.state.height*1.1, \"#ff4400\", \"#ffff00\"));\r\n      this.circle(this.state.width/2, this.state.height/2, radius);\r\n    }\r\n\r\n    water = () => {\r\n      this.fill(this.radialGradient((this.state.width / 2), (this.state.height * (2/3)), ((this.state.width / 1440)*100), (this.state.width / 2), (this.state.height * (2/3)), ((this.state.height / 900) * 600), \"#002244cc\", \"#000044cc\")); \r\n      this.rect(0, this.state.height*(2/3), this.state.width, this.state.height / 3);\r\n    }\r\n\r\n    onResize = () => {\r\n        this.setState({width: window.innerWidth, height: window.innerHeight});\r\n        this.canvasSize();\r\n        this.createCanvasBackground();\r\n    }\r\n\r\n    createCanvasBackground = () => {\r\n      this.canvasBackgroundFill();\r\n      this.stars();\r\n      this.sun();\r\n      this.water();\r\n\r\n\r\n        //ctx.font = \"30px Arial\";\r\n        //ctx.strokeText(\"Hello CanvasBackground\", 10, 50);\r\n          //var width = window.innerWidth;\r\n          //var height = window.innerHeight;\r\n    \r\n    \r\n    }\r\n\r\n  render() {    \r\n \r\n    return (\r\n        <canvas ref= {canvasRef => {this.canvasRef = canvasRef}}>\r\n\r\n        </canvas>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CanvasBackground;","//npm run build\r\n\r\nimport React, { Component } from 'react';\r\nimport Chat from './components/Chat';\r\nimport GenerateKeys from './components/GenerateKeys';\r\nimport CreateMessage from './components/CreateMessage';\r\nimport CanvasBackground from './components/CanvasBackground';\r\n\r\nimport './App.css';\r\nimport Peer from 'simple-peer'; \r\nimport socketIOClient from 'socket.io-client';\r\nimport $ from 'jquery';\r\n\r\nclass App extends Component {\r\n  \r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      chatMessages: [ \r\n      ],\r\n      peerInfo: null,\r\n      stream: null,\r\n      peer: null,\r\n      peerStream: null\r\n    }\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    navigator.mediaDevices.getUserMedia({video:true, audio: true}).then(stream => {\r\n      this.clientRef.srcObject = stream;\r\n      this.clientRef.onloaddedmetadata = this.clientRef.play();\r\n      this.forceUpdate();\r\n      this.socketConnection(stream);\r\n\r\n    })\r\n  }\r\n\r\n  socketConnection(stream) {\r\n    var socket = socketIOClient.connect(\"https://vaporwaveom.herokuapp.com/\");\r\n    console.log(\"Connecting to server...\");\r\n\r\n    socket.on('peer', (data) => {\r\n      this.createPeer(data.initiator, stream);\r\n      \r\n      console.log(\"Server told client to become initiator: \" + data.initiator);\r\n      if(data.initiator) {\r\n        this.state.peer.on(\"signal\", (data) => {\r\n          socket.emit(\"initiatorData\", data);\r\n          console.log(\"Emitting Initiator data to Server...\");\r\n        })\r\n      }\r\n    });\r\n\r\n      socket.on('joinInitiator', (data) => {\r\n        console.log(\"Joinining the initiator...\");\r\n        console.log(data.data);\r\n        this.state.peer.signal(data.data);\r\n        \r\n        if(!data.initiator) {\r\n          var initiaitorSocketId = data.socketid;\r\n          this.state.peer.on('signal', (data) => {\r\n            socket.emit(\"backToInitiator\", {socketid: initiaitorSocketId, data: data});\r\n            console.log(\"Recieving Initiator's Data..\");\r\n          })\r\n        }\r\n      })\r\n\r\n      socket.on('toInitiatorFromServer', (data) => {\r\n        this.state.peer.signal(data.data);\r\n\r\n        console.log(\"Connecting to Peer...\");\r\n      })\r\n    \r\n  }\r\n\r\n  submitButton = () => {\r\n    console.log(\"Can Submit\")\r\n  }\r\n\r\n  //Needs to be finished\r\n  createPeer = (initiator, stream) => {\r\n  var peer = new Peer({initiator: initiator, trickle: false, stream: stream});\r\n\r\n  this.forceUpdate();\r\n  \r\n    peer.on(\"connect\", () => {\r\n        console.log(\"Successfully connected to peer!\");\r\n    })\r\n\r\n    peer.on(\"data\", (data) => {\r\n      data = JSON.parse(data);\r\n      const newMessage = {\r\n        id: this.state.chatMessages.length,\r\n        user: data.user,\r\n        message: data.message \r\n      }\r\n      this.setState({chatMessages: [...this.state.chatMessages, newMessage]});\r\n    });\r\n\r\n    peer.on(\"stream\", (data) => {\r\n      this.setState({peerStream: data});\r\n      this.peerRef.srcObject = this.state.peerStream;\r\n      this.peerRef.onloaddedmetadata = this.peerRef.play();\r\n    });\r\n\r\n    this.setState({peer: peer});\r\n    return peer;\r\n  }\r\n\r\n\r\n  createMessage = (user, content) => {\r\n\r\n      const newMessage = {\r\n        id: this.state.chatMessages.length,\r\n        user: user,\r\n        message: content \r\n      }\r\n      this.setState({chatMessages: [...this.state.chatMessages, newMessage]});\r\n      this.state.peer.send(JSON.stringify({user: 'Anon', message: content}));\r\n     \r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n      \r\n      <div id = \"videoChat\">\r\n        <h3 id = \"logo\">パラドックス</h3>\r\n        <video ref = {clientRef => {this.clientRef = clientRef}} controls muted></video>\r\n        <video ref = {peerRef => {this.peerRef = peerRef}} controls></video>\r\n      </div>\r\n        <div id = \"chatApp\" class = \"disableScrollbars\">\r\n          <Chat chatMessages = {this.state.chatMessages} submit = {this.submitButton} />\r\n        </div>\r\n        \r\n        <CreateMessage createMessage =  {this.createMessage} peer = {this.peer} />\r\n\r\n        <GenerateKeys />\r\n        <CanvasBackground />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}